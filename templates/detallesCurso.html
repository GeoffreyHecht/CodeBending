{% extends 'layout.html' %}

{% block title %}
{{ curso.nombre }}
{% endblock %}

{% block content %}
<div class="container mt-5">
  <br>
  <a href="{{ url_for('dashDocente', supervisor_id=supervisor_id) }}" class="btn btn-secondary">Volver</a>
</div>

<div class="container mt-5">
  <div class="card text-light bg-dark p-4 rounded mb-4 no-hover-effect">
    <h3>{{curso.nombre}}</h3>
  </div>
</div>

<div class="container mt-5">
  <div class="row">
    <div class="col-12 mb-3">
      <div class="row">
        <div class="col-md-3 mb-3">
          <form method="post" action="{{ url_for('detallesCurso', supervisor_id=supervisor_id, curso_id=curso.id) }}">

          {% if curso.activa %}
              <button type="submit" name="activar_inactivar" value="desactivar" class="btn btn-success btn-block">Activo</button>
          {% else %}
              <button type="submit" name="activar_inactivar" value="activar" class="btn btn-danger btn-block">Inactivo</button>
          {% endif %}
        </form>
      </div>
        <div class="col-md-3 mb-3">
          <a href="{{ url_for('asignarGrupos', supervisor_id=supervisor_id, curso_id=curso.id) }}" class="btn btn-secondary btn-block">Asignar nuevo grupo</a>
        </div>
        <div class="col-md-3 mb-3">
          <a href="{{ url_for('progresoCurso', supervisor_id=supervisor_id, curso_id=curso.id)}}" class="btn btn-secondary btn-block">Ver progreso del curso</a>
        </div>
        <div class="col-md-3 mb-3">
          <a href="{{ url_for('progresoCurso', supervisor_id=supervisor_id, curso_id=curso.id)}}" class="btn btn-secondary btn-block">Activar Curso</a>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container mt-5">
  <div class="row">
    <div class="col-md-6">
      <table class="table custom-table">
        <thead class="thead-dark">
          <tr>
            <th>Lista de clases</th>
          </tr>
        </thead>
        <tbody>
          {% for estudiante in estudiantes_curso %}
          <tr>
            <td>{{ estudiante.nombres }} {{ estudiante.apellidos }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    <div class="col-md-6">

      <div class="card mb-3">
        <div class="card-header">
          <h5>Grupos del curso</h5>
        </div>
        <div class="card-body">
          {% if grupos|length == 0 %}
          <p class="card-text">No hay grupos</p>
          {% endif %}
          {% for grupo in grupos %}
          <p class="card-text"><a class="card-text" href="{{url_for('detallesGrupo', supervisor_id=supervisor_id, curso_id=curso.id, grupo_id=grupo.id)}}"> {{grupo.nombre}}</a></p>
          {% endfor %}
        </div>
      </div>

      <div class="card mb-3">
        <div class="card-header">
          <h5>Asignar serie a grupo</h5>
        </div>
        <div class="card-body">
          <form method="post" action="{{ url_for('detallesCurso', supervisor_id=supervisor_id, curso_id=curso.id) }}" id="asignarSeries" class="form-inline">

            <input type="hidden" name="accion" value="asignarSeries">
        
            <div class="form-group mr-2">
                <label for="series" class="mr-2">Series:</label>
                <select name="series" id="series" class="form-control">
                    {% if series %}
                        {% for serie in series %}
                            <option value="{{ serie.id }}">{{ serie.nombre }}</option>
                        {% endfor %}
                    {% else %}
                        <option value="" disabled selected>No hay series disponibles</option>
                    {% endif %}
                </select>
            </div>
        
            <div class="form-group mr-2">
                <label for="grupos" class="mr-2">Grupos:</label>
                <select name="grupos" id="grupos" class="form-control">
                    {% if grupos %}
                        {% for grupo in grupos %}
                            <option value="{{ grupo.id }}">{{ grupo.nombre }}</option>
                        {% endfor %}
                    {% else %}
                        <option value="" disabled selected>No hay grupos disponibles</option>
                    {% endif %}
                </select>
            </div>
        
            <button type="submit" class="btn btn-secondary">Asignar</button>
        
        </form>
        
        
        </div>
      </div>
      <div class="card mb-3">
        <div class="card-header">
          <h5>Series en este curso</h5>
        </div>
        <div class="card-body">
          {% if series_asignadas|length == 0 %}
            <p class="card-text">No hay series asignadas</p>
          {% endif %}
          {% for serie in series_asignadas %}
            <p class="card-text">
              <a class="card-text" href="{{ url_for('detallesSeries', supervisor_id=supervisor_id, serie_id=serie.id) }}">
                {{ serie.nombre }}
              </a>
            </p>
          {% endfor %}
        </div>
      </div>
      


    </div>
  </div>
</div>




<style>
  .custom-table {
      border-collapse: separate;
      border-spacing: 0;

      border-radius: 5px;
      overflow: hidden;
      background-color: white;
  }

  .custom-table th,
  .custom-table td {
      border: 1px solid #dee2e6;
      padding: 10px; /* Ajusta el relleno seg√∫n sea necesario */
  }
  

</style>

{% endblock %}
