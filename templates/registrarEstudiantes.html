{% extends "layout.html" %}

{% block title %}
Registro de Estudiantes
{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1>Registro de Estudiantes</h1>
</div>

<div class="container mt-5">
    <p>Para registrar estudiantes, carga un archivo .csv con la lista de clases.
    Si no has creado un Curso o quieres crear uno nuevo, llena el formulario:</p>
    <form method="post" action="{{ url_for('registrarEstudiantes', supervisor_id=supervisor_id) }}">
        <input type="hidden" name="accion" value="crearCurso"> <!-- Agrega un campo oculto para identificar el formulario -->
        <div class="form-group">
            <label for="nombreCurso">Nombre del Curso</label>
            <input type="text" class="form-control" id="nombreCurso" name="nombreCurso" placeholder="Ingresa el nombre del curso" required>
        </div>
        <button type="submit" class="btn btn-primary">Crear Curso</button>
    </form>
</div>

<div class="container mt-5">
    <h3>Registrar Estudiantes con la lista de clases</h2>
    <p>Si ya tienes un curso creado selecciona el curso y carga un archivo (.csv) con la lista de clases:</p>

    <form method="post" action="{{ url_for('registrarEstudiantes', supervisor_id=supervisor_id) }}" enctype="multipart/form-data">
        <input type="hidden" name="accion" value="registrarEstudiantes"> <!-- Agrega un campo oculto para identificar el formulario -->
        <div class="form-group">
            <label for="curso">Curso:</label>
            <select class="form-control" id="curso" name="curso" required>
                {% for curso in cursos %}
                <option value="{{ curso.id }}">{{ curso.nombre }}</option>
                {% endfor %}
            </select>
            <label for="listaClases">Cargar Lista de clases (.csv): </label>
            <input type="file" class="form-control-file" id="listaClases" name="listaClases" accept=".csv" required>
        </div>

        <button type="submit" class="btn btn-primary">Registrar Estudiantes</button>
    </form>
</div>
<div class="container mt-5">
    <div id="enlace-descarga" style="display: none;">
        <h3>Estudiantes Repetidos</h3>
        <p>Puedes descargar la lista de estudiantes repetidos haciendo clic en el siguiente enlace:</p>
        <a id="descargar-enlace" href="#">Descargar Estudiantes Repetidos</a>
    </div>
</div>


{% endblock %}