{% extends "layout.html" %}

{% block title %}Vista Docente{% endblock %}

{% block content %}
<h1>Vista Docente</h1>
<div class="row">
    <div class="col-md-12">
      <h2>Series y sus Ejercicios</h2>
      <ul>
        {% for serie in series %}
          <li>
            {{ serie.nombre }} ({{ serie.fecha }})
            
            <!-- BotÃ³n para cambiar el estado de la serie -->
            <form method="post" action="{{ url_for('toggle_serie', supervisor_id=supervisor_id, serie_id=serie.id) }}" style="display: inline;">
              <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
              {% if serie.activa %}
                  <button type="submit" class="btn btn-success btn-sm">Activa</button>
              {% else %}
                  <button type="submit" class="btn btn-danger btn-sm">Inactiva</button>
              {% endif %}
          </form>
          
            
            <ul>
              {% for ejercicio in ejercicios_por_serie[serie.id] %}
                <li>
                  {{ ejercicio.nombre }}: {{ ejercicio.enunciado }}
                  <br>Path: {{ ejercicio.path_ejercicio }}
                </li>
              {% endfor %}
            </ul>
          </li>
        {% endfor %}
      </ul>
    </div>
</div>
{% endblock %}
